---
title: Unveiling the World of Malware Analysis 
categories: [Malware Analysis]
tags: [blueteam]
---
# A Journey into Setting Up Your Lab with QEMU/KVM


### Welcome, fellow enthusiasts, to the realm of cybersecurity, where the battle between defenders and attackers unfolds in the digital landscape. Today, we embark on an exciting journey to establish a Malware Analysis Lab, equipped with the potent combination of QEMU/KVM. (hehehe i ended up using this because my device is sucks).

# Host System Requirements:

    Processor (CPU):
        A multi-core processor with support for hardware virtualization (Intel VT-x or AMD-V) is highly recommended.
        More cores will allow for running multiple virtual machines simultaneously.

    Memory (RAM):
        Allocate at least 8GB of RAM to the host system.
        Consider increasing RAM if you plan to run multiple virtual machines concurrently or if you're dealing with resource-intensive malware samples.

    Storage:
        Ensure sufficient free disk space for hosting virtual machine images and other required files.
        An SSD is preferable for better I/O performance.

    Network:
        A stable network connection is essential for downloading malware samples and for virtual machines to communicate with each other.

# Prerequisites:

    Linux Host:
        Ensure that you have a Linux host system. Popular distributions like Ubuntu, Fedora, or CentOS work well.
        Install QEMU/KVM and related tools:

``` bash
    sudo apt-get install qemu-kvm libvirt-bin virtinst bridge-utils
``` 
        
# Hardware Virtualization Support:

    Confirm that your CPU supports hardware virtualization (Intel VT-x or AMD-V).
    Enable virtualization in your BIOS settings.



# Verify Virtualization Support:

    Confirm that virtualization is enabled on your CPU.


``` bash
egrep -c '(vmx|svm)' /proc/cpuinfo
```
![Imgur](https://i.imgur.com/XJO8d6b.png)

If the output is greater than 0, virtualization is supported.
    
    
# Install and Start libvirt:

    Start and enable the libvirt service.

``` bash
sudo systemctl start libvirtd
sudo systemctl enable libvirtd
sudo systemctl status libvirtd
```
    If everything is functioning properly, the output returns an active (running) status.
![Imgur](https://i.imgur.com/tWKN1iW.png)

# Authorize Users to Run Virtual Machines:

    To grant users the necessary permissions to run virtual machines, you need to add them to the libvirt and kvm user groups. Replace 'username' with the actual username of the user you want to authorize.

``` bash
sudo usermod -aG libvirt, kvm 'username'
```
# Creating a Virtual Machine 
``` bash
sudo apt install virt-manager
```