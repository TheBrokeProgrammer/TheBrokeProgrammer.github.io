---
title: Basic Pentesting
categories: [THM Writeups]
tags: [thm,pentest]
---
# Basic Pentesting



![Imgur](https://i.imgur.com/Tijps6u.png)



# Basic Pentesting

*IP: 10.10.250.8

*Before anything else make sure that we are connected to the THM ovpn*

![Imgur](https://i.imgur.com/5kkshI0.png)

	make sure the tun0 is enabled

### Lets do the Nmap

![Imgur](https://i.imgur.com/ST3v8gn.png)


*List of Open Ports:*
22
80
139
445
8009
8080

# QUESTION 1:

What is the name of the hidden directory on the web server(enter name without /)?

	Because we dont know what other paths here we will use GoBuster, Dirbuster or ffuf to bruteforce the locations

**In this case ill use ffuf

![Imgur](https://i.imgur.com/msI295q.png)

	We can see that the hidden path is *development*

![Imgur](https://i.imgur.com/fFdtbKU.png)
# ANSWER 1: development



	Access dev.txt, In this file we know now that we have two Person that names are start with letter K and Letter J

![Imgur](https://i.imgur.com/aC1lfND.png)

	Access j.txt, In this file we know that there is an important file or anything with the path /etc/shadow
	
![Imgur](https://i.imgur.com/xduEYxq.png)

	Now lets find who they are

### Use brute-forcing to find the username and password

We will used here is enum4linux 

*What is enum4linux?

Enum4linux is a tool for enumerating information from Windows and Samba systems. Because we see earlier that there is a Samba Services.

*What is SMB?

The Server Message Block protocol (SMB protocol) is a client-server communication protocol used for sharing access to files, printers, serial ports and other resources on a network. It can also carry transaction protocols for interprocess communication. Over the years, SMB has been used primarily to connect Windows computers, although most other systems -- such as Linux and macOS -- also include client components for connecting to SMB resources.*



![Imgur](https://i.imgur.com/E779w0g.png)
![Imgur](https://i.imgur.com/pMfmFtb.png)
![Imgur](https://i.imgur.com/n6mewpq.png)

	We discovered two user accounts which is kay and jan

# QUESTION 2 

What is the username? 

### after using enum4linux we saw that there is an anonymous path and we can use smbclient for this 

![Imgur](https://i.imgur.com/2T6m1cm.png)

	we see the staff.txt

![Imgur](https://i.imgur.com/AGYhHsF.png)

	The content of staff is a message from Kay, also tell us the Jan is like not following work protocol



### Because of the lets first find out Jan data using hydra

```
hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://10.10.45.69 -I
```

![Imgur](https://i.imgur.com/9iQTiMI.png)

# ANSWER 2:  jan

# QUESTION 3: 
What is the password?

# ANSWER 3: armando

	### access jan using ssh

![Imgur](https://i.imgur.com/ITclyrW.png)


# QUESTION 4

What service do you use to access the server(answer in abbreviation in all caps)?

# ANSWER 4: SSH


# QUESTION 5

What is the name of the other user you found(all lower case)?

![Imgur](https://i.imgur.com/W8IkUS7.png)

# ANSWER 5: kay

# QUESTION 6 


What is the final password you obtain?


	We try to explore user kay but there is a bak file that we have no permission

![Imgur](https://i.imgur.com/wUxoNz1.png)

	We use ls -la and see .ssh, There is an authorized_keys, id_rsa, id_rsa.pub

![Imgur](https://i.imgur.com/nYqQzoL.png)

	Lets try to access the private key

![Imgur](https://i.imgur.com/2qW8Uyz.png)


	Copy all of it and put this in rsa_id file 


![Imgur](https://i.imgur.com/QkxvKQZ.png)

	We dont know what is the password for kay

	Lets try to use ssh2john

*ssh2john* is a part of the John the Ripper password cracking suite and is specifically designed for extracting password hashes from OpenSSH private key files. It converts the private key file into a format that John the Ripper can use to attempt to crack the passphrase protecting the private key.



![Imgur](https://i.imgur.com/hEl9GVB.png)

	Lets see what is another info about this hash using john

![Imgur](https://i.imgur.com/f32p5dW.png)

	OWWW We see the key of id_rsa which is "beeswax"
	Lets try to ssh kay again

![Imgur](https://i.imgur.com/shnUq3g.png)

### YEHEYYYY we did it we access kay now 

	Now lets explore kay directories

![Imgur](https://i.imgur.com/Mue4aGE.png)

## FINALLY WE SAW THE FINAL PASSWORD

# ANSWER 6: heresareallystrongpasswordthatfollowsthepasswordpolicy$$




THANK YOU!!!
- Hams3c
---------------



